---
import BaseLayout from "../layouts/BaseLayout.astro";

const pageTitle = "Projects";

const projects = [
  {
    title: "ts-generate-mock-data",
    type: "CLI",
    description:
      "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec fringilla nunc. Nullam nec nunc nec nunc.",
  },
  {
    title: "jensroemer.com",
    type: "Web",
    description:
      "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec fringilla nunc. Nullam nec nunc nec nunc.",
  },
];
---

<style>
  .container {
    padding-top: 40px;
  }

  .card-container {
    padding-top: 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 32px;
  }

  .card {
    /* TODO: variable */
    border: 2px solid rgba(255, 255, 255, 0.08);
    padding: 24px;
    border-radius: 12px;
    /* TODO: variable */
    background-color: rgb(28, 28, 28);
    /* TODO: variable */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    cursor: pointer;

    &:hover {
      background-color: rgb(32, 32, 32);

      button {
        color: var(--text-primary);
      }
    }
  }

  button {
    width: fit-content;
    cursor: pointer;
    border-radius: 6px;
    padding: 4px 8px;
    color: var(--text-secondary);
    background: none;
    border: none;
    transition: color 200ms;
    /* Offset button to align with text */
    margin-left: -8px;

    &:hover {
      color: var(--text-primary);
    }
  }
</style>

<!-- Script doesn't work if I change page and go back -->
<script>
  const syncPointer = ({ x, y }: { x: number; y: number }) => {
    document.documentElement.style.setProperty("--x", x.toFixed(2));
    document.documentElement.style.setProperty(
      "--xp",
      (x / window.innerWidth).toFixed(2)
    );
    document.documentElement.style.setProperty("--y", y.toFixed(2));
    document.documentElement.style.setProperty(
      "--yp",
      (y / window.innerHeight).toFixed(2)
    );
  };
  document.body.addEventListener("pointermove", syncPointer);
</script>

<BaseLayout pageTitle={pageTitle}>
  <div class="container">
    <p>Here is a list of some of the projects I have worked on.</p>

    <div class="card-container">
      <!-- TODO: add real data -->
      {
        projects.map((project, index) => (
          <div class="card">
            <h5>{project.type}</h5>
            <h3>{project.title}</h3>
            <button>Read</button>
          </div>
        ))
      }
    </div>
  </div>
</BaseLayout>
