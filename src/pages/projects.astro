---
import BaseLayout from "../layouts/BaseLayout.astro";
import WebIcon from "../assets/web.svg";
import SvgIcon from "../assets/cli.svg";
import ArrowIcon from "../assets/arrow.svg";

const pageTitle = "Projects";

const projects = [
  {
    title: "ts-generate-mock-data",
    type: "CLI",
  },
  {
    title: "www.jensroemer.com",
    type: "web",
  },
];
---

<style>
  .container {
    padding-top: 40px;
  }

  .card-container {
    padding-top: 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 32px;
  }

  h3 {
    font-weight: 300;
  }

  .card {
    /* TODO: variable */
    border: 2px solid rgba(255, 255, 255, 0.08);
    padding: 24px;
    border-radius: 12px;
    background-color: var(--grey-4);
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    cursor: pointer;
    transition: background-color 150ms cubic-bezier(0.5, 0, 0.64, 0.73);

    &:hover {
      background-color: var(--grey-3);

      button {
        color: var(--text-primary);
      }

      .project-icon {
        color: var(--text-primary);
      }
    }
  }

  .project-icon {
    color: var(--text-secondary);
    /* TODO: variable for transition duration */
    transition: color 150ms cubic-bezier(0.5, 0, 0.64, 0.73);
  }

  .arrow {
    align-self: flex-end;
  }

  .card-body {
    padding-top: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
</style>

<!-- Script doesn't work if I change page and go back -->
<script>
  const syncPointer = ({ x, y }: { x: number; y: number }) => {
    document.documentElement.style.setProperty("--x", x.toFixed(2));
    document.documentElement.style.setProperty(
      "--xp",
      (x / window.innerWidth).toFixed(2)
    );
    document.documentElement.style.setProperty("--y", y.toFixed(2));
    document.documentElement.style.setProperty(
      "--yp",
      (y / window.innerHeight).toFixed(2)
    );
  };
  document.body.addEventListener("pointermove", syncPointer);
</script>

<BaseLayout pageTitle={pageTitle}>
  <div class="container">
    <p>Here is a list of some of the projects I have worked on.</p>
    <div class="card-container">
      {
        projects.map((project, index) => (
          <div class="card">
            {project.type === "web" ? (
              <WebIcon size={18} class="project-icon" />
            ) : (
              <SvgIcon size={18} class="project-icon" />
            )}
            <div class="card-body">
              <h3>{project.title}</h3>
              <ArrowIcon size={18} class="arrow project-icon" />
            </div>
          </div>
        ))
      }
    </div>
  </div>
</BaseLayout>
